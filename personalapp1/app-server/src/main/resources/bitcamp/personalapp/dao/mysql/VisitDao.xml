<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bitcamp.personalapp.dao.VisitDao">

<resultMap type="visit" id="visitMap">
  <id column="visit_no" property="no"/>
  <result column="name" property="name"/>
  <result column="created_date"   property="createdDate"/>
</resultMap>

  <insert id="insert" parameterType="visit">
    insert into personalapp_visit(name) values(#{name})
  </insert>
  
  <select id="findAll" resultMap="visitMap">
   select 
   	visit_no, 
   	name, 
   	created_date
	 from personalapp_visit 
	 order by 
	   visit_no
  </select>
  
  <select id="findByIdAndPassword" parameterType="visit" resultMap="visitMap">
    select 
      visit_no, name 
    from 
      personalapp_visit 
    where 
      name=#{name}
  </select>
  
  <delete id="delete" parameterType="int">
  delete from personalapp_visit 
  where 
    visit_no=#{no}
  </delete>

  <select id="findBy" parameterType="int" resultMap="visitMap">
  select 
    visit_no, 
    name, 
    created_date 
  from 
    personalapp_visit
  where 
    visit_no=#{no}
  </select>
  
</mapper>